<!DOCTYPE html>
<html>
<head>
  <title>grouped bar chart</title>
  <meta charset="utf-8">

  <link rel="stylesheet" type="text/css" href="./bower_components/mapbox.js/mapbox.css">

  <link rel="stylesheet" type="text/css" href="./css/style.css">
  <link rel="stylesheet" type="text/css" href="./css/bar-chart.css">
  <link rel="stylesheet" type="text/css" href="./css/heatmap.css">
  <link rel="stylesheet" type="text/css" href="./css/map.css">

  <script type="text/javascript" src="./bower_components/jquery/dist/jquery.min.js"></script>
  <script type="text/javascript" src="./bower_components/d3/d3.min.js"></script>
  <script type="text/javascript" src="./bower_components/moment/min/moment.min.js"></script>
  <script type="text/javascript" src="./bower_components/mapbox.js/mapbox.js"></script>
</head>
<body>

<!-- <div id="plugloadsGraph-barchart"></div> -->
<div id="plugloadsGraph-heatmap"></div>
<!-- <div id="mapbox"></div> -->

<script type="text/javascript" src="./js/app.js"></script>
<script type="text/javascript" src="./js/bar-chart.js"></script>
<script type="text/javascript" src="./js/heatmap.js"></script>
<script type="text/javascript" src="./js/map.js"></script>

<script>
  // var barChart = new BarChart();
  var heatmap = new Heatmap();
  // var map = Map();

  d3.json('data/sample_data_Occupancy.json', function(chartData) {
    // var formatedData = FormatJsonForBarchart(chartData);

    // barChart.MainContainerID('plugloadsGraph-barchart');
    // barChart.Dataset(formatedData);
    // barChart.LegendLabel('OCC');
    // barChart.LabelYaxis('seat');
    // barChart.LabelXaxis('days');
    // barChart.XAxisDateFormat('%A');

    // barChart.chart();

    // var formatedData = FormatJsonForHeatmap(chartData);

    // heatmap.MainContainerID('plugloadsGraph-heatmap');
    // heatmap.ColorRange(['#FFF9BF','#7F0026']);
    // heatmap.Dataset(formatedData);
    // heatmap.ShowCardLabel(true);
    // heatmap.IsPercent(false);
    // heatmap.LegendLabel('OCC');
    // heatmap.ChartTitle('Occupancy by seat and week day : PTPP33');
    // heatmap.LabelYaxis('seat');
    // heatmap.LabelXaxis('days');
    // heatmap.XAxisDateFormat('%A')

    // heatmap.chart();
  });

  // d3.json('data/sample_data_map.json', function(geojson) {
  //   map.accessToken('pk.eyJ1IjoiZ3VsbG9jZWFuIiwiYSI6ImNpenM2dWN3MDAwZnIyd2w5NGhkbTJvdTgifQ.Hsf1DaKu_R1xViZMM0X7LA');
  //   map.containerID('mapbox');
  //   map.viewCenter([38.8929, -77.0252]);
  //   map.zoomLevel(14);
  //   map.geojson(geojson)

  //   map();
  // });
  d3.csv('data/sample_data/occ_by_seat_Floor1.csv', function(chartData) {
    // var formatedData = FormatCSVForBarchart(chartData, 'seat', 'occ', 'day');

    // barChart.MainContainerID('plugloadsGraph-barchart');
    // barChart.Dataset(formatedData);
    // barChart.LegendLabel('OCC');
    // barChart.LabelYaxis('seat');
    // barChart.LabelXaxis('days');
    // barChart.XAxisDateFormat('%A');

    // barChart.chart();

    var formatedData = FormatCSVForHeatmap(chartData, 'day', 'occ', 'seat');

    heatmap.MainContainerID('plugloadsGraph-heatmap');
    heatmap.ColorRange(['#FFF9BF','#7F0026']);
    heatmap.Dataset(formatedData);
    heatmap.ShowCardLabel(true);
    heatmap.IsPercent(false);
    heatmap.LegendLabel('OCC');
    heatmap.ChartTitle('Occupancy by seat and week day : PTPP33');
    heatmap.LabelYaxis('seat');
    heatmap.LabelXaxis('days');
    heatmap.XAxisDateFormat('%A');

    heatmap.chart();
  });
</script>
</body>
</html>